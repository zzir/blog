<!DOCTYPE html>
<html lang="zh"><head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="ZZIR">
    <meta name="description" content="hello world">
    <meta name="keywords" content="zzir,Golang,Python,Docker,K8S">

    <link rel="stylesheet" href="/assets/css/style.css">

    <link href="https://fonts.googleapis.com/css?family=Noto+Serif+SC&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet"type="text/css">
    <link href="https://fonts.googleapis.com/css2?family=Major+Mono+Display&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.11.1/katex.min.css">
    <link rel="stylesheet" href="/assets/css/github.css">

    <title>Python äºŒç»´ç ç”Ÿæˆåº“ qrcode ç¤ºä¾‹ - ZZIR's Note</title>
</head><body>
<main class="page-content" aria-label="Content">
    <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
    <div class="post-back" id="post-back" style="display: none">
        <a class="black-link" href="https://zzir.cn">ğŸ™„</a>
    </div>
    <header class="post-header">
        <h1 class="post-title p-name" itemprop="name headline">
            Python äºŒç»´ç ç”Ÿæˆåº“ qrcode ç¤ºä¾‹
        </h1>
        <p class="post-meta">
            <time class="dt-published" datetime="2016-01-16T00:00:00+08:00" itemprop="datePublished">Jan 16, 2016
            </time></p>
    </header>

    <div class="post-content e-content" itemprop="articleBody">
        <blockquote>
  <p>äºŒç»´ç ç®€ç§° QR Codeï¼ˆQuick Response Codeï¼‰ï¼Œå­¦åä¸ºå¿«é€Ÿå“åº”çŸ©é˜µç ï¼Œæ˜¯äºŒç»´æ¡ç çš„ä¸€ç§ï¼Œç”±æ—¥æœ¬çš„ Denso Wave å…¬å¸äº 1994 å¹´å‘æ˜ã€‚ç°éšç€æ™ºèƒ½æ‰‹æœºçš„æ™®åŠï¼Œå·²å¹¿æ³›åº”ç”¨äºå¹³å¸¸ç”Ÿæ´»ä¸­ï¼Œä¾‹å¦‚å•†å“ä¿¡æ¯æŸ¥è¯¢ã€ç¤¾äº¤å¥½å‹äº’åŠ¨ã€ç½‘ç»œåœ°å€è®¿é—®ç­‰ç­‰ã€‚</p>
</blockquote>

<p>ç”±äºç”Ÿæˆ qrcode å›¾ç‰‡éœ€è¦ä¾èµ– Python çš„å›¾åƒåº“ï¼Œæ‰€ä»¥éœ€è¦å…ˆå®‰è£… Python å›¾åƒåº“ PIL(Python Imaging Library)ï¼Œä¸ç„¶ä¼šé‡åˆ° <code class="highlighter-rouge">ImportError: No module named Image</code>çš„é”™è¯¯ã€‚</p>

<h2 id="png">PNG</h2>
<p>From the command line, use the installed qr script:
    qr â€œSome textâ€ &gt; test.png</p>

<p>Exampleï¼š</p>
<pre><code class="language-python3">import qrcode

qr = qrcode.QRCode(
    version=1,
    error_correction=qrcode.constants.ERROR_CORRECT_L,
    box_size=10,
    border=4,
)
qr.add_data('http://zzir.cn/')
qr.make(fit=True)
img = qr.make_image()
img.save("qrcode_demo.png")
</code></pre>
<p>å‚æ•° <code class="highlighter-rouge">version</code> è¡¨ç¤ºç”ŸæˆäºŒç»´ç çš„å°ºå¯¸å¤§å°ï¼Œå–å€¼èŒƒå›´æ˜¯ <code class="highlighter-rouge">1</code> è‡³ <code class="highlighter-rouge">40</code>ï¼Œæœ€å°å°ºå¯¸ <code class="highlighter-rouge">1</code> ä¼šç”Ÿæˆ <code class="highlighter-rouge">21 * 21</code> çš„äºŒç»´ç ï¼Œ<code class="highlighter-rouge">version</code> æ¯å¢åŠ  <code class="highlighter-rouge">1</code>ï¼Œç”Ÿæˆçš„äºŒç»´ç å°±ä¼šæ·»åŠ  <code class="highlighter-rouge">4</code> å°ºå¯¸ï¼Œä¾‹å¦‚ <code class="highlighter-rouge">version</code> æ˜¯ <code class="highlighter-rouge">2</code>ï¼Œåˆ™ç”Ÿæˆ <code class="highlighter-rouge">25 * 25</code> çš„äºŒç»´ç ã€‚</p>

<p>å‚æ•° error_correction æŒ‡å®šäºŒç»´ç çš„å®¹é”™ç³»æ•°ï¼Œåˆ†åˆ«æœ‰ä»¥ä¸‹4ä¸ªç³»æ•°ï¼š</p>
<ol>
  <li><code class="highlighter-rouge">ERROR_CORRECT_L</code>: 7%çš„å­—ç å¯è¢«å®¹é”™</li>
  <li><code class="highlighter-rouge">ERROR_CORRECT_M</code>: 15%çš„å­—ç å¯è¢«å®¹é”™</li>
  <li><code class="highlighter-rouge">ERROR_CORRECT_Q</code>: 25%çš„å­—ç å¯è¢«å®¹é”™</li>
  <li><code class="highlighter-rouge">ERROR_CORRECT_H</code>: 30%çš„å­—ç å¯è¢«å®¹é”™</li>
</ol>

<p>å‚æ•° <code class="highlighter-rouge">box_size</code> è¡¨ç¤ºäºŒç»´ç é‡Œæ¯ä¸ªæ ¼å­çš„åƒç´ å¤§å°ã€‚</p>

<p>å‚æ•° <code class="highlighter-rouge">border</code> è¡¨ç¤ºè¾¹æ¡†çš„æ ¼å­åšåº¦æ˜¯å¤šå°‘ï¼ˆé»˜è®¤æ˜¯<code class="highlighter-rouge">4</code>ï¼‰ã€‚</p>

<h2 id="svg">SVG</h2>
<p>On Python 2.6 must install lxml since the older xml.etree.ElementTree version can not be used to create SVG images.</p>

<p>You can create the entire SVG or an SVG fragment. When building an entire SVG image, you can use the factory that combines as a path (recommended, and default for the script) or a factory that creates a simple set of rectangles.</p>

<p>From your command line:
    qr â€“factory=svg-path â€œSome textâ€ &gt; test.svg
    qr â€“factory=svg â€œSome textâ€ &gt; test.svg
    qr â€“factory=svg-fragment â€œSome textâ€ &gt; test.svg</p>

<p>Or in Python:</p>
<pre><code class="language-python3">import qrcode
import qrcode.image.svg

if method == 'basic':
    # Simple factory, just a set of rects.
    factory = qrcode.image.svg.SvgImage
elif method == 'fragment':
    # Fragment factory (also just a set of rects)
    factory = qrcode.image.svg.SvgFragmentImage
else:
    # Combined path factory, fixes white space that may occur when zooming
    factory = qrcode.image.svg.SvgPathImage

img = qrcode.make('Some data here', image_factory=factory)
</code></pre>

<p>Two other related factories are available that work the same, but also fill the background of the SVG with white:
    qrcode.image.svg.SvgFillImage
    qrcode.image.svg.SvgPathFillImage</p>

<h3 id="pure-python-png">Pure Python PNG</h3>

<p>Install the following two packages:
    pip install git+git://github.com/ojii/pymaging.git#egg=pymaging
    pip install git+git://github.com/ojii/pymaging-png.git#egg=pymaging-png</p>

<p>From your command line:
    qr â€“factory=pymaging â€œSome textâ€ &gt; test.png</p>

<p>Or in Python:</p>
<pre><code class="language-python3">import qrcode
from qrcode.image.pure import PymagingImage
img = qrcode.make('Some data here', image_factory=PymagingImage)
</code></pre>

<p>å‚è€ƒï¼šhttps://pypi.python.org/pypi/qrcode/5.1</p>

    </div>

    <a class="u-url" href="/2016/python-qrcode.html" hidden></a>
</article>

<div class="post-tags">
    
    <a>qrcode</a>
    
    <a>Python</a>
    
</div>

<div class="pagination">
    <ul>
        
        
        <li class="next">
            <a href="/2016/python-syntactic-sugar.html" title="NEXT: Python è¯­æ³•ç³–">
                â€º Python è¯­æ³•ç³–
            </a>
        </li>
        
    </ul>
</div>
    </div>
</main><footer>
    <p class="post-author"><a href="/">ZZIR</a></p>
    <p class="beian">
        
        <span>
            <img src="/assets/imgs/beian.png">
            <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010902002287">æµ™å…¬ç½‘å®‰å¤‡33010902002287å·</a>
        </span>
        ãƒ»ï¸
        <span><a href="http://beian.miit.gov.cn/">æµ™ICPå¤‡19040093å·</a></span>
        
    </p>
</footer>
<script defer src="/assets/js/katex/katex.min.js" type="text/javascript"></script>
<script defer src="/assets/js/katex/auto-render.min.js" type="text/javascript"></script>
<script src="/assets/js/zooming.min.js" type="text/javascript"></script>
<script src="/assets/js/highlight.pack.js" type="text/javascript"></script>
<script>
    // zooming
    const zooming = new Zooming({
        customSize: '100%',
    });
    zooming.listen('.paragraph img');
    zooming.listen('.content img');
    zooming.listen('.post-content img');

    // highlight
    hljs.initHighlightingOnLoad();

    // katex
    document.addEventListener("DOMContentLoaded", function () {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false},
                {left: "\\(", right: "\\)", display: false},
                {left: "\\[", right: "\\]", display: true}
            ]
        });
    });

    // back display
    function getScrollTop() {
        var scrollTop = 0;
        if (document.documentElement && document.documentElement.scrollTop) {
            scrollTop = document.documentElement.scrollTop;
        } else if (document.body) {
            scrollTop = document.body.scrollTop;
        }
        return scrollTop;
    }

    window.onscroll = function () {
        if (getScrollTop() === 0) {
            document.getElementById("post-back").style.display = "block";
        }
    }
</script>


<script>
    // google analytics
    window.ga = window.ga || function () {
        (ga.q = ga.q || []).push(arguments)
    };
    ga.l = +new Date;
    ga('create', 'UA-121779014-1', 'auto');
    ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</body>
</html>